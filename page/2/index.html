<!doctype html>

<html lang="zh-TW">

<head>
  <title>Just murmur</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="Isaac Weng" />
  <meta name="generator" content="Hugo 0.53" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" />

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-175902-4', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">Just murmur</a>
            </h1>

      <ul id="social-media">
             
      </ul>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="/blog/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/tags/">
                <i class="fa-li fa  fa-lg"></i><span>Tags</span>
            </a>
        </li>
        
    </ul>
</nav>

    <main>




<section id="home">
        <ul>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2017/08/10-%E6%97%A5%E6%9C%AC%E4%B8%AD%E9%83%A8%E5%8C%97%E9%99%B8-day1/" title="日本中部北陸 11 日 —  第一天">日本中部北陸 11 日 —  第一天</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2017-08-10T11:04:00&#43;08:00">Aug 10, 2017</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/%E9%81%8A%E5%B1%B1%E7%8E%A9%E6%B0%B4/">#遊山玩水</a>
                
                    , 
                    <a href="/tags/%E6%97%A5%E6%9C%AC/">#日本</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p> 第一天沒什麼特別的，中午的飛機到名古屋差不多就準備吃晚餐了。
搭飛機 台灣飛中部國際機場若不考慮廉航，那最便宜的應該就是國泰航空了，缺點就是不能累計里程，而且要兩天前才能線上畫位。不過他均價比其他航空公司便宜數千元，而且是中午去下午回，真的很超值。
因為很早訂所以信用卡搭配的機場接送沒法用，加上不想亭機場外圍停車場留鑰匙，所以決定停到網路上大家推薦的機場貨運站停車場，一天只要 $100，而且先付費後就可以停到一航廈的停車場（2017/3 後改由嘟嘟房經營，此法失效）。
 還是同一個機場，不同的是小孩都大了，兩個人都趴在窗戶上認真的看著等會兒要搭的飛機。
兒童餐，看起來不錯
大人的，不難吃
到達中部國際機場囉！機場看起來不大，天氣陰陰的。
中部國際機場路線很簡單，不太可能迷路，出關後走過一個長廊就看得到要搭的名鉄線了。
票價不便宜啊！機場到名古屋，大人要 ¥870，小孩要 ¥440。
名古屋站 很大！真的很大！從名鉄名古屋站要走到名古屋站一樓就花了好多時間。因為帶著行李和小孩想走有電梯或手扶梯的路線，雖然事先花了時間研究了站內地圖，也參考了小氣少年的部落格，還是稍微的迷路了 :(
到名古屋站最重要的目的就是去 JR 東海購買「立山黑部套票」。雖然服務人員也會說英語，不過最好還是把要買的票和要坐的車次寫出來，這樣速度快很多。套票說名古屋到松本可以坐指定席，可是因為隔天就要出發所以已經沒位子了，不過高山回名古屋的位子還是有的。
到 JR 東海的遊客中心購票，站內地圖和網路上的文章都有說明，不難找。
晚餐 &ndash; 一蘭拉麵 晚餐是飯店 Check-in 後才出來吃的，之前就有看到飯店附近有家「一蘭拉麵」，剛好大家迷路到都累了，有得吃就好。
即使是飄著雨的非假日，排隊的人還是很多，幸好消化的速度也不慢，等不到半小時就吃到了。第一次看到有餐廳每個位子都有燈號顯示狀態，我們一家四口可以占用左下角那個小包廂。
包廂的空間還可以，還有衣架可以掛外套。桌子也很神奇，可以延伸出來變成四人座。
拉麵就&hellip;拉麵的樣子囉！全家人都不是拉麵控，吃不出等級來，反正很好吃就對了。
小吃 &ndash; 手羽先 聽說名古屋的手羽先(炸雞翅)是必吃，趁著今晚沒排啥行程趕快吃一吃，免得之後沒力氣找。之前查了老半天都是說「風來坊」和「世界の山ちゃん」，看了老半天也不知道要選哪個，也沒有離飯店近一點的。碰巧在不知道哪個部落格看到「伍味酉」這個歷史悠久的老店，本店還剛好在飯店附近，那就它啦！
其實是個居酒屋，不過我們只是要外帶手羽先。
店內一景，一種說不出的日本味。
一盒似乎只裝五支，超過就是另外一盒，因為盒子也要錢 :(
吃完是覺得比一般的炸雞翅好啦，不過有點像在吃醬汁，拿起來不趕快吃還會滴幾滴下來，搞得全家手都又油又黏！嚐嚐鮮就好，不要像我們一樣一次買九支，有點浪費錢。
飯店 &ndash; Nagoya Garland Hotel 今天住的是靠近榮町的 Nagoya Garland Hotel，雖然隔天就要再回名古屋站搭 JR，不過勝在便宜，只好多走點路了。
因為已經到 1F 買套票了，所以要去搭東山線就糊里糊塗跟著指標走到了車站外面。發現從名古屋站要搭東山線到「榮」也是個挑戰，因為找不到電梯，最後發現電梯要稍微繞一下。可以參考這篇文章，差不多就是出了車站大門後順著指標跟著人群走，之後會發現電梯的指標會越走越遠離人潮&hellip;沒錯！就是這樣！很隱密！
到達「榮」後要再到飯店又是個挑戰，網路上都說從「丸榮百貨」出來轉個彎就到了，不過因為手扶梯上去進到「丸榮百貨」後轉錯彎，只好走到百貨外面繞圈圈，多花了好多時間 :(
飯店外觀不大，不過服務人員挺親切的。
今天住的是小房間，反正第一天不用整理戰利品，隔天就要出發，有得睡就好。
今日開銷 今天總共花了，買套票佔了大宗。
 第一航廈停車： $1100 車票(機場至名古屋)：¥870 * 2 + ¥440 = ¥2180 黑部立山套票：¥46580 車票(名古屋至榮)：¥200 * 2 + ¥100 = ¥500 一蘭拉麵：¥790 + ¥1080 = ¥1870 手羽先：¥1566 早餐(便利商店)：¥588 飯店(Nagoya Garland Hotel)：¥7800  有用連結  名鐵名古屋站內圖 名古屋站站內圖：1F、B1  </p>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2017/07/24-intellijidea-unindexed-remote-maven-repositories-found/" title="Intellij IDEA 出現 Unindexed remote maven repositories found 的錯誤訊息">Intellij IDEA 出現 Unindexed remote maven repositories found 的錯誤訊息</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2017-07-24T15:30:00&#43;08:00">Jul 24, 2017</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/java/">#java</a>
                
                    , 
                    <a href="/tags/intellij/">#intellij</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>最近心血來潮想改用 Intellij IDEA，在匯入 Gradle 專案時出現了如下的錯誤訊息：</p>

<pre><code>Unindexed remote maven repositories found. Disable...
        The following repositories used in your gradle projects were not indexed yet: 
        http://repo1.maven.org/maven2
        If you want to use dependency completion for these repositories artifacts,
        Open Repositories List, select required repositories and press &quot;Update&quot; button (show balloon)
</code></pre></p>
            
            <a href="/blog/2017/07/24-intellijidea-unindexed-remote-maven-repositories-found/">Read more&hellip;</a>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2017/06/20-kubernetes-pull-images-from-private-docker-registry-servier/" title="Kubernetes 透過自建的 Docker Registry 取得 Image">Kubernetes 透過自建的 Docker Registry 取得 Image</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2017-06-20T16:05:00&#43;08:00">Jun 20, 2017</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/docker/">#docker</a>
                
                    , 
                    <a href="/tags/kubernetes/">#kubernetes</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>因為 image 放到 Docker Hub 太危險也不符公司資安規定，所以在用 Kubernetes 前，最好還是有個自己的 Docker Registry，不然還要自己手動把每個 image 放到每個 node，太麻煩！</p>

<h3 id="自建-docker-registry">自建 Docker Registry</h3>

<p>網路上資料很多，不過其實也沒有很麻煩，官網的 <a href="https://docs.docker.com/registry/deploying/">Deploying a registry server</a> 最詳細，只是我覺得順序或排版看得不太順。以下是參考其他文章後建置的順序：</p></p>
            
            <a href="/blog/2017/06/20-kubernetes-pull-images-from-private-docker-registry-servier/">Read more&hellip;</a>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2017/06/20-rabbitmq-on-docker/" title="建立預先設定好 Exchange/Queue/User 的 RabbitMQ Docker Image">建立預先設定好 Exchange/Queue/User 的 RabbitMQ Docker Image</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2017-06-20T09:30:00&#43;08:00">Jun 20, 2017</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/docker/">#docker</a>
                
                    , 
                    <a href="/tags/rabbitmq/">#rabbitmq</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>如果都已經用 Docker 了，結果 image 給別人以後還要按手冊建立 queue 和 exchange，這樣可能有點掉漆，幸好網路上資料很多。</p>

<p>首先，必須先進去 RabbitMQ Management 的網頁，把原本的設定匯出，然後再更名為<code>definitions.json</code>。</p>

<p><code>Dockerfile</code> 只要把 rabbitmq.config 和 definitions.json 加進去就行啦！</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> rabbitmq:3-management</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ADD</span><span style="color:#e6db74"> rabbitmq.config /etc/rabbitmq/</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ADD</span><span style="color:#e6db74"> definitions.json /etc/rabbitmq/</span></code></pre></div></p>
            
            <a href="/blog/2017/06/20-rabbitmq-on-docker/">Read more&hellip;</a>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2017/05/24-kubernetes-on-centos-7-guest-in-virtualbox/" title="在 VirtualBox 的 CentOS 7 VM 上建置 Kubernetes Cluster">在 VirtualBox 的 CentOS 7 VM 上建置 Kubernetes Cluster</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2017-05-24T16:21:00&#43;08:00">May 24, 2017</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/linux/">#linux</a>
                
                    , 
                    <a href="/tags/kubernetes/">#kubernetes</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>搞了兩三天，終於成功了。</p>

<p>主要是參考 Kubernetes 官方的 <a href="https://kubernetes.io/docs/getting-started-guides/kubeadm/">Installing Kubernetes on Linux with kubeadm</a>，雖然是 Beta，不過應該是未來的趨勢，衝了。不得不說，如果是用 VM 又躲在防火牆後面又雙網卡，那只按照官方文件做真的會搞老半天。</p>

<h2 id="環境說明">環境說明</h2>

<p>公司很龜毛，有防火牆，所以要連到 internet 抓東西就要透過 proxy。公司也很機車，IP 有管制，沒申請的 IP 連 gateway 都出不去。公司也很省，配的設備不怎麼樣，所以一台 PC 裝多個 VM 互連會哭出來。</p></p>
            
            <a href="/blog/2017/05/24-kubernetes-on-centos-7-guest-in-virtualbox/">Read more&hellip;</a>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2017/05/09-%E6%97%A5%E6%9C%AC%E4%B8%AD%E9%83%A8%E5%8C%97%E9%99%B8-%E8%A1%8C%E7%A8%8B%E8%A6%8F%E5%8A%83/" title="日本中部北陸 11 日 —  行程規劃">日本中部北陸 11 日 —  行程規劃</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2017-05-09T21:56:00&#43;08:00">May 9, 2017</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/%E9%81%8A%E5%B1%B1%E7%8E%A9%E6%B0%B4/">#遊山玩水</a>
                
                    , 
                    <a href="/tags/%E6%97%A5%E6%9C%AC/">#日本</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><h3 id="日本我又來啦">日本我又來啦！</h3>

<p>我們全家又去日本自由行啦！自從上次利用華航精緻旅遊去沖繩六天五夜後，就覺得日本真是便宜又方便的好地方。機票便宜、住宿便宜、吃的習慣、治安良好，真是帶著兩個小孩親子遊的好地方！</p>

<p>這次挑戰的是中部北陸十一天，比上次用華航精緻旅遊又更進化了！本來是想去北海道看薰衣草的，但是同事說機票貴住宿也貴，索性隨便找了個相對不那麼熱門的點。雖然老婆說這是啥鳥地方，不過我就是喜歡去身旁的人沒去過的點，規劃的人最大！</p></p>
            
            <a href="/blog/2017/05/09-%E6%97%A5%E6%9C%AC%E4%B8%AD%E9%83%A8%E5%8C%97%E9%99%B8-%E8%A1%8C%E7%A8%8B%E8%A6%8F%E5%8A%83/">Read more&hellip;</a>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2016/06/01-eclipse-large-icon-size/" title="Linux 下的 Eclipse 4 的 toolbar 變超大">Linux 下的 Eclipse 4 的 toolbar 變超大</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2016-06-01T11:15:00&#43;08:00">Jun 1, 2016</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/linux/">#linux</a>
                
                    , 
                    <a href="/tags/java/">#java</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>因為要開發 Android 程式裝了 Eclipse 4.5，啟動後發現 toolbar 的 icon 浪費很多空間。參考 <a href="https://github.com/jeeeyul/eclipse-themes/wiki/Linux-Huge-Toolbar-Problem">Linux Huge Toolbar Problem</a> 發現是因為 Eclipse 4 預設用 GTK3。但是它提供的 GTK3 解法不能用，因為都找不到 <code>gtk-widgets.css</code> 這個檔。</p>

<p>最後是參考 <a href="https://www.eclipse.org/forums/index.php/t/1071268/">[solved] Eclipse (Linux) force GTK2</a>，修改 <code>eclipse.ini</code>，加上下面兩行後雖然醜了點但變得比較正常了。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">--launcher.GTK_version
<span style="color:#ae81ff">2</span></code></pre></div></p>
            
            <a href="/blog/2016/06/01-eclipse-large-icon-size/">Read more&hellip;</a>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2016/04/13-blocked-for-more-than-120-seconds/" title="task XXX blocked for more than 120 seconds">task XXX blocked for more than 120 seconds</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2016-04-13T15:58:00&#43;08:00">Apr 13, 2016</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/linux/">#linux</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>公司 VM 的 IO 很慢，最近出現 <code>task XXX blocked for more than 120 seconds</code>，然後就 Kernel Panic 整個不動了。</p>

<p>參考<a href="http://www.blackmoreops.com/2014/09/22/linux-kernel-panic-issue-fix-hung_task_timeout_secs-blocked-120-seconds-problem/">網路上的文章</a>，原因是 Linux 要把 file system cache 的資料寫回硬碟時如果 IO 太慢沒辦法在 120 秒內寫完，後續的資料又一直進來，就卡住了。</p>

<p>解決辦法就是降低 cache 的大小，增加寫入的頻率。</p>

<ul>
<li><code>vm.dirty_background_ratio = 2</code> 降低 cache，當超過這個百分比時就開始背景寫回硬碟。</li>
<li><code>vm.dirty_ratio = 5</code> 當超過這個百分比時就強制寫回硬碟。</li>
</ul></p>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2015/12/07-fancybox-cause-page-to-jump-to-top/" title="修正 fancyBox 點擊圖片後會跳到網頁最上方的問題">修正 fancyBox 點擊圖片後會跳到網頁最上方的問題</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2015-12-07T02:33:00&#43;08:00">Dec 7, 2015</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/blog/">#blog</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>處理好 fancyBox 和 Google Photos 的問題後，又跑出了另一個問題：點了圖以後會直接跳到文章的最開頭！一樣也是 Google 後找到<a href="http://stackoverflow.com/questions/13547007/fancybox2-fancybox-causes-page-to-to-jump-to-the-top">解法</a>，參考其中一個修改 css 的方法就搞定了！</p>

<p><strong>jquery.fancybox.css</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">fancybox-lock</span> {
    <span style="color:#75715e">/* overflow: hidden !important; */</span> <span style="color:#75715e">/* comment out this one */</span>
    <span style="color:#66d9ef">width</span>: <span style="color:#66d9ef">auto</span>;
}</code></pre></div></p>
            
          </li>
          
          <li>
            <h1><a href="https://cwweng.github.io/blog/2015/12/07-fancybox-with-google-photos/" title="fancyBox 和 Google Photos 不太合作 (fancyBox doesn&#39;t work with Google Photos)">fancyBox 和 Google Photos 不太合作 (fancyBox doesn&#39;t work with Google Photos)</a></h1> 
            <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2015-12-07T01:21:00&#43;08:00">Dec 7, 2015</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="/tags/blog/">#blog</a>
                
            </em>
        </li>
        
    </ul>
</aside>

            <p><p>為新 Blog 放上了 <a href="http://fancyapps.com/fancybox/">fancyBox</a> 後發現不支援 Google Photos 圖檔的網址，<a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme/issues/51">查了一下</a>發現原來 fancyBox 會去判斷副檔名，剛好 Google Photos 提供的網址都沒有副檔名。根據該文章的說明，把 Google Photos 提供的網址最後加上 <strong>#.jpg</strong> 讓它看起來有副檔名就行了。</p>

<p>After adding support for <a href="http://fancyapps.com/fancybox/">fancyBox</a>, I found that it doesn&rsquo;t work with Google Photos. According to <a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme/issues/51">this article</a>, fancyBox requires extension at the end of the URL, and URL provided by Google Photos has none. Just Adding <strong>#.jpg</strong> at the end of the URL as the article suggested and everything works !</p></p>
            
          </li>
          
          

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/4/">4</a></li>
    
    
    <li class="page-item">
    <a href="/page/3/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/4/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

        </ul>
      </section>



</main>
    <footer>
        <h6> | 
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://cwweng.github.io/index.xml">Subscribe</a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>
</body>

</html>